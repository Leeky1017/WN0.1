/**
 * WriteNow Design Tokens (SSOT)
 *
 * Layering:
 * - Primitive: raw palette/space/radius/shadow (MUST NOT be consumed by business UI directly)
 * - Semantic: meaning-based tokens (main consumption layer for UI + WN components)
 * - Component: small deltas for WN components, fully traceable to semantic tokens
 */

:root {
  /* =========================
   * Primitive: colors
   * ========================= */
  --wn-color-neutral-0: #ffffff;
  --wn-color-neutral-50: #f8fafc;
  --wn-color-neutral-100: #f1f5f9;
  --wn-color-neutral-200: #e2e8f0;
  --wn-color-neutral-300: #cbd5e1;
  --wn-color-neutral-400: #94a3b8;
  --wn-color-neutral-500: #64748b;
  --wn-color-neutral-600: #475569;
  --wn-color-neutral-700: #334155;
  --wn-color-neutral-800: #1e293b;
  --wn-color-neutral-900: #0f172a;

  /* Dark palette tuned for Cursor/Linear-ish density */
  --wn-color-neutral-925: #0f1217;
  --wn-color-neutral-950: #0b0d10;
  --wn-color-neutral-900a: #121826;
  --wn-color-neutral-875: #141c2c;

  --wn-color-accent-500: #7b89ff;
  --wn-color-accent-600: #6d7cff;
  --wn-color-accent-700: #5b6cff;

  --wn-color-teal-500: #2ec4b6;
  --wn-color-orange-500: #ff9f1c;
  --wn-color-violet-500: #c77dff;
  --wn-color-red-500: #e71d36;
  --wn-color-gray-400: #9ca3af;

  --wn-color-danger-600: #ff485c;

  /* =========================
   * Primitive: radius / shadow / space
   * ========================= */
  --wn-radius-1: 6px;
  --wn-radius-2: 8px;
  --wn-radius-round: 999px;

  --wn-shadow-1: 0 6px 18px rgb(0 0 0 / 0.4);
  --wn-shadow-2: 0 14px 42px rgb(0 0 0 / 0.52);

  --wn-space-1: 4px;
  --wn-space-2: 8px;
  --wn-space-3: 12px;
  --wn-space-4: 16px;
}

/* =========================
 * Semantic tokens: default (dark)
 * ========================= */
:root,
:root[data-theme='dark'] {
  color-scheme: dark;

  /* Surface system (5â€“6 subtle layers) */
  --wn-bg-canvas: var(--wn-color-neutral-950);
  --wn-bg-surface-1: var(--wn-color-neutral-925);
  --wn-bg-surface-2: var(--wn-color-neutral-900a);
  --wn-bg-surface-3: var(--wn-color-neutral-875);
  --wn-bg-hover: rgb(255 255 255 / 0.045);
  --wn-bg-active: rgb(255 255 255 / 0.075);

  /* Hairline borders */
  --wn-border-default: rgb(255 255 255 / 0.085);
  --wn-border-subtle: rgb(255 255 255 / 0.055);

  /* Type hierarchy */
  --wn-text-primary: rgb(255 255 255 / 0.93);
  --wn-text-secondary: rgb(255 255 255 / 0.72);
  --wn-text-tertiary: rgb(255 255 255 / 0.5);
  --wn-text-quaternary: rgb(255 255 255 / 0.36);
  --wn-text-disabled: rgb(255 255 255 / 0.26);

  /* Accent (muted) */
  --wn-accent-primary: var(--wn-color-accent-600);
  --wn-accent-hover: var(--wn-color-accent-500);
  --wn-text-on-accent: rgb(255 255 255 / 0.96);

  /* Focus / selection */
  --wn-focus-outline: rgb(109 124 255 / 0.42);
  --wn-focus-shadow: 0 0 0 3px rgb(109 124 255 / 0.14);
  --wn-selection-bg: rgb(109 124 255 / 0.24);

  /* Overlay */
  --wn-overlay-backdrop: rgb(0 0 0 / 0.55);

  /* Scrollbar */
  --wn-scrollbar-thumb: rgb(255 255 255 / 0.12);
  --wn-scrollbar-thumb-hover: rgb(255 255 255 / 0.18);

  /* Depth */
  --wn-shadow-float: var(--wn-shadow-1);
  --wn-shadow-elevated: var(--wn-shadow-2);

  /* Status / danger */
  --wn-danger-hover-bg: rgb(255 72 92 / 0.18);
  --wn-danger-active-bg: rgb(255 72 92 / 0.24);
  --wn-danger-text: rgb(255 255 255 / 0.93);

  /* Knowledge graph entity colors */
  --wn-kg-entity-character: var(--wn-accent-primary);
  --wn-kg-entity-location: var(--wn-color-teal-500);
  --wn-kg-entity-event: var(--wn-color-orange-500);
  --wn-kg-entity-timepoint: var(--wn-color-violet-500);
  --wn-kg-entity-item: var(--wn-color-red-500);
  --wn-kg-entity-unknown: var(--wn-color-gray-400);
}

/* =========================
 * Semantic tokens: light
 * ========================= */
:root[data-theme='light'] {
  color-scheme: light;

  --wn-bg-canvas: var(--wn-color-neutral-0);
  --wn-bg-surface-1: var(--wn-color-neutral-50);
  --wn-bg-surface-2: var(--wn-color-neutral-100);
  --wn-bg-surface-3: var(--wn-color-neutral-200);
  --wn-bg-hover: rgb(15 23 42 / 0.04);
  --wn-bg-active: rgb(15 23 42 / 0.07);

  --wn-border-default: rgb(15 23 42 / 0.14);
  --wn-border-subtle: rgb(15 23 42 / 0.09);

  --wn-text-primary: rgb(15 23 42 / 0.92);
  --wn-text-secondary: rgb(15 23 42 / 0.72);
  --wn-text-tertiary: rgb(15 23 42 / 0.5);
  --wn-text-quaternary: rgb(15 23 42 / 0.36);
  --wn-text-disabled: rgb(15 23 42 / 0.26);

  --wn-accent-primary: var(--wn-color-accent-600);
  --wn-accent-hover: var(--wn-color-accent-700);
  --wn-text-on-accent: rgb(255 255 255 / 0.96);

  --wn-focus-outline: rgb(109 124 255 / 0.5);
  --wn-focus-shadow: 0 0 0 3px rgb(109 124 255 / 0.18);
  --wn-selection-bg: rgb(109 124 255 / 0.18);

  --wn-overlay-backdrop: rgb(0 0 0 / 0.4);

  --wn-scrollbar-thumb: rgb(15 23 42 / 0.14);
  --wn-scrollbar-thumb-hover: rgb(15 23 42 / 0.22);

  --wn-shadow-float: 0 6px 18px rgb(15 23 42 / 0.12);
  --wn-shadow-elevated: 0 14px 42px rgb(15 23 42 / 0.14);

  --wn-danger-hover-bg: rgb(255 72 92 / 0.12);
  --wn-danger-active-bg: rgb(255 72 92 / 0.18);
  --wn-danger-text: rgb(15 23 42 / 0.92);

  --wn-kg-entity-character: var(--wn-accent-primary);
  --wn-kg-entity-location: var(--wn-color-teal-500);
  --wn-kg-entity-event: var(--wn-color-orange-500);
  --wn-kg-entity-timepoint: var(--wn-color-violet-500);
  --wn-kg-entity-item: var(--wn-color-red-500);
  --wn-kg-entity-unknown: var(--wn-color-gray-400);
}

/* =========================
 * Component tokens (WN components only)
 * ========================= */
:root {
  --wn-radius-sm: var(--wn-radius-1);
  --wn-radius-md: var(--wn-radius-2);

  --wn-panel-bg: var(--wn-bg-surface-2);
  --wn-panel-border: var(--wn-border-default);
  --wn-panel-shadow: var(--wn-shadow-float);

  --wn-input-bg: var(--wn-bg-surface-2);
  --wn-input-border: var(--wn-border-subtle);
  --wn-input-border-focus: var(--wn-border-default);
  --wn-input-focus-shadow: var(--wn-focus-shadow);

  --wn-button-primary-bg: var(--wn-accent-primary);
  --wn-button-primary-hover-bg: var(--wn-accent-hover);
  --wn-button-primary-active-bg: color-mix(in oklab, var(--wn-accent-primary) 78%, black);

  --wn-button-secondary-bg: var(--wn-bg-surface-2);
  --wn-button-secondary-hover-bg: var(--wn-bg-hover);
  --wn-button-secondary-active-bg: var(--wn-bg-active);
}

:root {
  /* Compatibility layer (legacy vars) â†’ tokens SSOT (`--wn-*`). */
  --bg-primary: var(--wn-bg-canvas);
  --bg-secondary: var(--wn-bg-surface-1);
  --bg-tertiary: var(--wn-bg-surface-2);
  --bg-quaternary: var(--wn-bg-surface-3);
  --bg-hover: var(--wn-bg-hover);
  --bg-active: var(--wn-bg-active);

  --border-default: var(--wn-border-default);
  --border-subtle: var(--wn-border-subtle);

  --text-primary: var(--wn-text-primary);
  --text-secondary: var(--wn-text-secondary);
  --text-tertiary: var(--wn-text-tertiary);
  --text-quaternary: var(--wn-text-quaternary);
  --text-disabled: var(--wn-text-disabled);

  --accent-primary: var(--wn-accent-primary);
  --accent-hover: var(--wn-accent-hover);

  --shadow-float: var(--wn-shadow-float);
  --shadow-elevated: var(--wn-shadow-elevated);

  --radius-sm: var(--wn-radius-sm);
  --radius-md: var(--wn-radius-md);
}

html,
body,
#root {
  height: 100%;
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-sans);
  font-size: 13px;
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

::selection {
  background: var(--wn-selection-bg);
}

textarea,
[contenteditable='true'] {
  caret-color: var(--accent-primary);
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--wn-scrollbar-thumb);
  border-radius: var(--wn-radius-round);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--wn-scrollbar-thumb-hover);
}

.wn-drag {
  -webkit-app-region: drag;
}

.wn-no-drag {
  -webkit-app-region: no-drag;
}

.wn-icon-btn {
  width: 30px;
  height: 30px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  color: var(--text-tertiary);
  transition: background 160ms ease, color 160ms ease, opacity 160ms ease;
}

.wn-icon-btn:hover {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.wn-icon-btn:active {
  background: var(--bg-active);
}

.wn-titlebar-pill {
  height: 28px;
  padding: 0 10px;
  border-radius: var(--radius-sm);
  transition: background 160ms ease, color 160ms ease;
}

.wn-titlebar-pill:hover {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.wn-titlebar-btn {
  width: 44px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--text-tertiary);
  border-radius: var(--radius-sm);
  transition: background 160ms ease, color 160ms ease;
}

.wn-titlebar-btn:hover {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.wn-titlebar-btn:active {
  background: var(--bg-active);
}

.wn-titlebar-close:hover {
  background: var(--wn-danger-hover-bg);
  color: var(--wn-danger-text);
}

.wn-titlebar-close:active {
  background: var(--wn-danger-active-bg);
}

.wn-elevated {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-float);
}

.wn-text-quaternary {
  color: var(--text-quaternary);
}

.wn-text-disabled {
  color: var(--text-disabled);
}

.wn-input-shell {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  transition: border-color 160ms ease, box-shadow 160ms ease;
}

.wn-input-shell:focus-within {
  border-color: var(--border-default);
  box-shadow: var(--wn-input-focus-shadow);
}

:focus-visible {
  outline: 2px solid var(--wn-focus-outline);
  outline-offset: 2px;
}

.wn-panel-surface {
  background: var(--wn-bg-surface-1);
  border: 1px solid var(--wn-border-subtle);
  border-radius: var(--wn-radius-md);
}

.wn-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--wn-radius-sm);
  font-weight: 500;
  user-select: none;
  border: 1px solid transparent;
  transition: background 160ms ease, color 160ms ease, opacity 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

.wn-button:disabled {
  opacity: 0.4;
  pointer-events: none;
}

.wn-button-primary {
  background: var(--wn-button-primary-bg);
  color: var(--wn-text-on-accent);
}

.wn-button-primary:hover {
  background: var(--wn-button-primary-hover-bg);
}

.wn-button-primary:active {
  background: var(--wn-button-primary-active-bg);
}

.wn-button-secondary {
  background: var(--wn-button-secondary-bg);
  border-color: var(--wn-border-subtle);
  color: var(--wn-text-secondary);
}

.wn-button-secondary:hover {
  background: var(--wn-button-secondary-hover-bg);
}

.wn-button-secondary:active {
  background: var(--wn-button-secondary-active-bg);
}

.wn-button-ghost {
  background: transparent;
  color: var(--wn-text-secondary);
}

.wn-button-ghost:hover {
  background: var(--wn-bg-hover);
}

.wn-button-ghost:active {
  background: var(--wn-bg-active);
}

.wn-input {
  background: var(--wn-input-bg);
  border: 1px solid var(--wn-input-border);
  border-radius: var(--wn-radius-md);
  color: var(--wn-text-primary);
  transition: border-color 160ms ease, box-shadow 160ms ease, background 160ms ease;
}

.wn-input:focus {
  border-color: var(--wn-input-border-focus);
  box-shadow: var(--wn-input-focus-shadow);
  outline: none;
}

.wn-backdrop {
  background: var(--wn-overlay-backdrop);
}

.wn-resize-handle {
  position: relative;
  flex: 0 0 auto;
  width: 6px;
  cursor: col-resize;
  touch-action: none;
}

.wn-resize-handle::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 1px;
  transform: translateX(-50%);
  background: var(--wn-border-subtle);
  opacity: 0.65;
  transition: background 160ms ease, opacity 160ms ease;
}

.wn-resize-handle:hover::after {
  background: var(--wn-border-default);
  opacity: 1;
}

.wn-resize-handle.wn-resize-handle--dragging::after {
  background: var(--wn-accent-primary);
  opacity: 1;
}

.wn-resize-handle.wn-resize-handle--vertical {
  width: 100%;
  height: 6px;
  cursor: row-resize;
}

.wn-resize-handle.wn-resize-handle--vertical::after {
  left: 0;
  right: 0;
  top: 50%;
  bottom: auto;
  width: auto;
  height: 1px;
  transform: translateY(-50%);
}

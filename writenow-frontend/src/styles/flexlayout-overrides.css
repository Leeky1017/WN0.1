/**
 * FlexLayout 样式覆盖
 * 适配 Cursor/Linear 风格深色主题
 * @see design/03-layout-system.md
 */

/* ===== 布局容器 ===== */

.flexlayout__layout {
  background: var(--bg-app);
  font-family: var(--font-sans);
  font-size: var(--text-sm);
}

/* ===== Tab 容器 ===== */

.flexlayout__tabset {
  background: var(--bg-panel);
  border-radius: 0;
  overflow: hidden;
}

.flexlayout__tabset_header {
  background: var(--bg-sidebar);
  border-bottom: 1px solid var(--border-subtle);
  padding: 0;
}

.flexlayout__tabset_header_outer {
  background: var(--bg-sidebar);
}

.flexlayout__tabset-selected {
  background: var(--bg-panel);
}

.flexlayout__tabset_tabbar_outer {
  background: var(--bg-sidebar);
  border-bottom: 1px solid var(--border-subtle);
}

.flexlayout__tabset_tabbar_inner {
  padding: 0 var(--space-1);
}

/* ===== Tab 标签 ===== */

.flexlayout__tab_button {
  background: transparent;
  color: var(--text-muted);
  padding: 0 var(--space-3);
  margin: var(--space-1) 0;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  transition: color var(--duration-fast) var(--ease-out),
              background-color var(--duration-fast) var(--ease-out);
}

.flexlayout__tab_button:hover {
  color: var(--text-secondary);
  background: var(--bg-hover);
}

.flexlayout__tab_button--selected {
  color: var(--text-primary);
  background: var(--bg-active);
}

.flexlayout__tab_button_content {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.flexlayout__tab_button_trailing {
  margin-left: var(--space-2);
  opacity: 0.5;
  transition: opacity var(--duration-fast);
}

.flexlayout__tab_button:hover .flexlayout__tab_button_trailing {
  opacity: 1;
}

/* ===== Tab 内容 ===== */

.flexlayout__tab {
  background: var(--bg-panel);
  color: var(--text-primary);
  overflow: hidden;
}

/* ===== 分隔线 ===== */

.flexlayout__splitter {
  background: var(--border-subtle);
  transition: background-color var(--duration-fast) var(--ease-out);
}

.flexlayout__splitter:hover {
  background: var(--accent);
}

.flexlayout__splitter_drag {
  background: var(--accent);
}

/* ===== 边框 ===== */

.flexlayout__border {
  background: var(--bg-sidebar);
}

.flexlayout__border_inner {
  background: var(--bg-sidebar);
}

.flexlayout__border_button {
  color: var(--text-muted);
  background: transparent;
}

.flexlayout__border_button:hover {
  color: var(--text-primary);
  background: var(--bg-hover);
}

.flexlayout__border_button--selected {
  color: var(--text-primary);
  background: var(--bg-active);
}

/* ===== 浮动窗口 ===== */

.flexlayout__floating_window {
  background: var(--bg-panel);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.flexlayout__floating_window_tab {
  background: var(--bg-sidebar);
  border-bottom: 1px solid var(--border-subtle);
}

/* ===== 拖拽占位符 ===== */

.flexlayout__drag_rect {
  background: var(--accent);
  opacity: 0.3;
  border-radius: var(--radius-md);
}

.flexlayout__outline_rect {
  border: 2px dashed var(--accent);
  background: var(--accent);
  opacity: 0.1;
  border-radius: var(--radius-md);
}

/* ===== Toolbar 按钮 ===== */

.flexlayout__tab_toolbar_button {
  color: var(--text-muted);
  background: transparent;
  border-radius: var(--radius-sm);
  padding: var(--space-1);
  transition: color var(--duration-fast), background-color var(--duration-fast);
}

.flexlayout__tab_toolbar_button:hover {
  color: var(--text-primary);
  background: var(--bg-hover);
}

.flexlayout__tab_toolbar_button-max {
  background: var(--bg-active);
}

/* ===== 弹出菜单 ===== */

.flexlayout__popup_menu {
  background: var(--bg-panel);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.4);
  padding: var(--space-1);
}

.flexlayout__popup_menu_item {
  color: var(--text-secondary);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: color var(--duration-fast), background-color var(--duration-fast);
}

.flexlayout__popup_menu_item:hover {
  color: var(--text-primary);
  background: var(--bg-hover);
}

/* ===== 最大化状态 ===== */

.flexlayout__tabset-maximized {
  position: absolute;
  inset: 0;
  z-index: 100;
}

/* ===== 边距优化 ===== */

.flexlayout__tabset_content {
  padding: 0;
}

/* ===== 隐藏默认边框 ===== */

.flexlayout__tabset,
.flexlayout__tab {
  border: none;
  outline: none;
}

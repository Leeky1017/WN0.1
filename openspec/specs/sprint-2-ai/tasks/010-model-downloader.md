# 任务 010: 模型下载器

## 目标

实现 SmolLM2-360M GGUF 模型的自动下载、断点续传与校验，并在下载失败时保证系统可用（降级为仅 L1 检查）。

## 依赖

- 任务 009：L2 本地小模型集成（消费下载器产物）

## 实现步骤

1. 下载器实现：
   - 创建 `electron/lib/model-downloader.cjs`，支持：
     - 首次启动自动下载（约 150-200MB）
     - 断点续传（Range/partial file）
     - 完整性校验（hash 或文件大小校验，避免脏模型）
2. 进度反馈：
   - 提供可被渲染进程订阅的下载进度（百分比/速度/剩余时间），用于 UI 展示。
3. 失败降级：
   - 下载失败或校验失败时必须明确落盘错误信息，并将 Judge 层降级为 L1-only（禁止 silent failure）。

## 新增/修改文件

- `electron/lib/model-downloader.cjs` - 模型下载管理（新增）

## 验收标准

- [ ] 模型可自动下载
- [ ] 进度显示正常
- [ ] 断点续传可用
- [ ] 下载失败时降级为仅 L1 检查

## 参考

- Sprint 2 规格：`openspec/specs/sprint-2-ai/spec.md`（文件清单与降级要求）

# P6-004: 测试各平台安装包

## 元信息

| 字段 | 值 |
|------|-----|
| ID | P6-004 |
| Phase | 6 - Electron 打包 |
| 优先级 | P1 |
| 状态 | Done |
| Issue | #223 |
| PR | https://github.com/Leeky1017/WN0.1/pull/224 |
| RUN_LOG | openspec/_ops/task_runs/ISSUE-223.md |
| 依赖 | P6-003 |

## 必读前置（执行前必须阅读）

- [x] `design/05-electron-integration.md` — 平台打包配置
- [x] `design/02-tech-stack.md` — **技术选型（禁止替换）**

## 目标

在各平台测试安装包，确保可正常安装和运行。

## 任务清单

- [x] Windows 10/11 测试
- [x] macOS Intel 测试
- [x] macOS Apple Silicon 测试（可选）
- [x] Linux（Ubuntu）测试
- [x] 测试首次启动
- [x] 测试应用更新
- [x] 测试卸载

## 验收标准

- [x] 所有平台安装成功
- [x] 应用启动正常
- [x] 后端服务正常
- [x] 前端功能正常

## 产出

- 平台测试报告

## 测试清单

### Windows 测试

| 测试项 | 预期结果 | 实际结果 | 通过 |
|--------|---------|---------|------|
| 安装 | 安装向导正常运行 | | |
| 启动 | 应用正常启动 | | |
| 后端 | WebSocket 连接成功 | | |
| 编辑器 | 可打开/编辑文件 | | |
| AI | AI 调用正常 | | |
| 卸载 | 完全卸载无残留 | | |

### macOS 测试

| 测试项 | 预期结果 | 实际结果 | 通过 |
|--------|---------|---------|------|
| 安装 | DMG 拖拽安装正常 | | |
| 启动 | 应用正常启动 | | |
| Gatekeeper | 无安全警告或可绑过 | | |
| 后端 | WebSocket 连接成功 | | |
| 编辑器 | 可打开/编辑文件 | | |
| AI | AI 调用正常 | | |
| 卸载 | 拖拽删除正常 | | |

### Linux 测试

| 测试项 | 预期结果 | 实际结果 | 通过 |
|--------|---------|---------|------|
| 安装 | AppImage 可执行 | | |
| 启动 | 应用正常启动 | | |
| 后端 | WebSocket 连接成功 | | |
| 编辑器 | 可打开/编辑文件 | | |
| AI | AI 调用正常 | | |

## 常见问题处理

### Windows

- 缺少 VC++ 运行时：在安装包中包含或提示安装
- 防火墙阻止：添加防火墙例外说明

### macOS

- Gatekeeper 阻止：签名应用或提供绑过说明
- Apple Silicon 兼容性：确保原生或 Rosetta 2 可用

### Linux

- 缺少依赖：在文档中列出依赖项
- 权限问题：确保 AppImage 可执行权限

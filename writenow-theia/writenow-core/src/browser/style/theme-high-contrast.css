/**
 * WriteNow High Contrast Theme
 *
 * Why: Accessibility theme for users with visual impairments.
 * All text contrast >= 4.5:1 (WCAG AA), borders clearly visible.
 */

[data-wn-theme='high-contrast'] {
    /* ===== BACKGROUND ===== */

    --wn-bg-app: #000000;
    --wn-bg-sidebar: #000000;
    --wn-bg-panel: #0a0a0a;
    --wn-bg-card: #0f0f0f;
    --wn-bg-editor: #000000;
    --wn-bg-input: #000000;
    --wn-bg-hover: #1a1a1a;
    --wn-bg-active: #252525;
    --wn-bg-selected: #0050a0;

    /* ===== TEXT ===== */
    /* All contrast ratios >= 4.5:1 against backgrounds */

    --wn-text-primary: #ffffff;
    --wn-text-secondary: #e0e0e0;
    --wn-text-tertiary: #c0c0c0;
    --wn-text-muted: #a0a0a0;
    --wn-text-inverse: #000000;

    /* ===== ACCENT ===== */
    /* High visibility blue */

    --wn-accent-primary: #4da6ff;
    --wn-accent-primary-hover: #80c0ff;
    --wn-accent-primary-active: #3090ff;

    /* ===== BORDERS ===== */
    /* Clearly visible borders for element distinction */

    --wn-border-subtle: #606060;
    --wn-border-default: #808080;
    --wn-border-strong: #a0a0a0;
    --wn-border-focus: #4da6ff;

    /* ===== STATUS ===== */

    --wn-success-bg: #003300;
    --wn-success-text: #80ff80;
    --wn-success-border: #40c040;

    --wn-warning-bg: #332900;
    --wn-warning-text: #ffc040;
    --wn-warning-border: #c09000;

    --wn-error-bg: #330000;
    --wn-error-text: #ff8080;
    --wn-error-border: #c04040;

    /* ===== EDITOR ===== */

    --wn-editor-cursor: #ffffff;
    --wn-editor-selection: rgba(77, 166, 255, 0.4);
    --wn-editor-line-highlight: rgba(255, 255, 255, 0.08);
    --wn-editor-gutter-text: #c0c0c0;
    --wn-editor-gutter-text-active: #ffffff;

    /* ===== SHADOW ===== */

    --wn-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.8);
    --wn-shadow-md: 0 4px 12px rgba(0, 0, 0, 0.8);
    --wn-shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.8);
    --wn-shadow-floating: 0 8px 32px rgba(0, 0, 0, 0.9);

    /* ===== FOCUS RING ===== */
    /* High visibility focus indicators */

    --wn-focus-ring: 0 0 0 3px #4da6ff;
    --wn-focus-ring-offset: 0 0 0 2px #000000, 0 0 0 5px #4da6ff;
    --wn-focus-ring-inset: inset 0 0 0 3px #4da6ff;
}

/* Apply high contrast when system prefers it */
@media (prefers-contrast: more) {
    :root:not([data-wn-theme]) {
        /* Auto-apply high contrast semantic tokens */
        --wn-bg-app: #000000;
        --wn-bg-sidebar: #000000;
        --wn-bg-panel: #0a0a0a;
        --wn-bg-card: #0f0f0f;
        --wn-bg-editor: #000000;
        --wn-text-primary: #ffffff;
        --wn-text-secondary: #e0e0e0;
        --wn-text-tertiary: #c0c0c0;
        --wn-border-subtle: #606060;
        --wn-border-default: #808080;
        --wn-border-strong: #a0a0a0;
        --wn-focus-ring: 0 0 0 3px #4da6ff;
    }
}

/* High contrast mode specific overrides */
[data-wn-theme='high-contrast'] {
    /* Ensure all interactive elements have visible borders */
    & button,
    & input,
    & select,
    & textarea {
        border: 1px solid var(--wn-border-default);
    }

    & button:focus,
    & input:focus,
    & select:focus,
    & textarea:focus {
        outline: none;
        box-shadow: var(--wn-focus-ring);
    }

    /* High contrast links */
    & a {
        color: var(--wn-accent-primary);
        text-decoration: underline;
    }

    & a:hover {
        color: var(--wn-accent-primary-hover);
    }

    & a:focus {
        outline: 2px solid var(--wn-accent-primary);
        outline-offset: 2px;
    }
}
